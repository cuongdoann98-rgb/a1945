<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TikTok Coin Recharge</title>
<style>
  /* ===== Base ===== */
  html, body { margin:0; padding:0; font-family:sans-serif; background:#f7f7f7; }
  .phone { max-width:420px; margin:0 auto; background:#fff; min-height:100vh; position:relative; }
  header { position:fixed; top:0; width:100%; max-width:420px; background:#fff; padding:12px 0; border-bottom:1px solid #eee; display:flex; align-items:center; justify-content:center; z-index:100; }
  .back-btn { position:absolute; left:16px; cursor:pointer; font-size:22px; }
  .ios-title { font-size:17px; font-weight:600; text-align:center; }
  .main-content { margin-top:70px; padding:20px; }
  
  .balance-box { display:flex; align-items:center; background:#f9f9f9; border:1.5px solid #d0d0d0; border-radius:12px; padding:12px 15px; gap:12px; }
  .tiktok-logo { width:40px; height:40px; object-fit:contain; }
  .balance-info { display:flex; flex-direction:column; gap:4px; }
  .recharge-text { font-weight:700; font-size:18px; }
  .balance-line { display:flex; align-items:center; gap:8px; }
  .coin-icon { width:18px; height:18px; }
  #balanceAmount { font-size:13px; color:#666; border:none; background:transparent; pointer-events:none; }

  .recharge-section { margin-top:20px; background:#fff; border-radius:12px; padding:15px; box-shadow:0 0 8px rgba(0,0,0,0.05); }
  .coins-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:15px; margin-top:10px; }
  .coin-option { background:#e3e3e3; border:1.5px solid #d0d0d0; border-radius:10px; padding:15px 10px; text-align:center; cursor:pointer; transition:0.2s; }
  .coin-option.selected { border-color:#fe2c55; background:#fff2f5; }
  .coin-value { font-weight:600; font-size:18px; display:flex; align-items:center; justify-content:center; gap:6px; }
  .coin-value img { width:18px; height:18px; }
  .coin-price { font-size:13px; color:#777; margin-top:2px; }

  .payment-footer { position:fixed; bottom:0; width:100%; max-width:420px; background:#fff; padding:10px 16px 20px; border-top:1px solid #eee; display:flex; flex-direction:column; gap:10px; z-index:1000; border-radius:16px 16px 0 0; box-sizing:border-box; }
  .total-line { display:flex; justify-content:space-between; font-size:15px; }
  .total-label { color:#666; }
  .total-amount { font-weight:600; }
  .done-btn { width:100%; background:#fe2c55; color:#fff; border:none; border-radius:8px; padding:13px; font-size:16px; cursor:pointer; }

  /* Popup Order Summary */
  .order-popup { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:2000; }
  .order-content { background:#fff; border-radius:16px; padding:20px; width:90%; max-width:360px; position:relative; box-shadow:0 5px 20px rgba(0,0,0,0.15); }
  .close-btn { position:absolute; top:12px; right:12px; background:none; border:none; font-size:20px; cursor:pointer; }
  .order-row { display:flex; justify-content:space-between; margin:8px 0; font-size:15px; }
  .pay-now-btn { width:100%; background:#000; color:#fff; border:none; padding:10px; border-radius:8px; margin-top:10px; cursor:pointer; font-size:16px; }
</style>
</head>
<body>
<div class="phone">
  <header>
    <span class="back-btn">&lt;</span>
    <div class="ios-title">Get Coins to send Gifts to TikTok</div>
  </header>

  <div class="main-content">
    <div class="balance-box">
      <img src="tiktok.png" class="tiktok-logo" alt="TikTok">
      <div class="balance-info">
        <span class="recharge-text">Recharge</span>
        <div class="balance-line">
          <img src="coin.png" class="coin-icon">
          <input type="text" id="balanceAmount" value="2,506,051">
        </div>
      </div>
    </div>

    <section class="recharge-section">
      <h3>Get Coins</h3>
      <input type="text" id="tiktokId" placeholder="Enter TikTok username" style="width:100%; margin-top:10px; padding:10px; border:1.5px solid #d0d0d0; border-radius:10px;">

      <div class="coins-grid">
        <div class="coin-option" data-coins="70" data-price="1.00">
          <div class="coin-value"><img src="coin.png">70</div>
          <div class="coin-price">$1.00</div>
        </div>
        <div class="coin-option" data-coins="350" data-price="5.00">
          <div class="coin-value"><img src="coin.png">350</div>
          <div class="coin-price">$5.00</div>
        </div>
        <div class="coin-option" data-coins="700" data-price="9.00">
          <div class="coin-value"><img src="coin.png">700</div>
          <div class="coin-price">$9.00</div>
        </div>
        <div class="coin-option" data-coins="1700" data-price="19.00">
          <div class="coin-value"><img src="coin.png">1,700</div>
          <div class="coin-price">$19.00</div>
        </div>
        <div class="coin-option" id="customOption">
          <div class="coin-value"><img src="coin.png">Custom</div>
        </div>
      </div>
    </section>
  </div>

  <div class="payment-footer">
    <div class="total-line">
      <span class="total-label">Total:</span>
      <span class="total-amount" id="totalAmount">$0.00</span>
    </div>
    <button class="done-btn">Recharge</button>
  </div>
</div>

<!-- Popup Order Summary -->
<div id="orderPopup" class="order-popup">
  <div class="order-content">
    <span class="close-btn">&times;</span>
    <h3>Order Summary</h3>
    <div class="order-row"><span>Account</span><span id="popupUsername">@username</span></div>
    <div class="order-row"><span>Total</span><span id="popupTotal">$0.00</span></div>
    <div class="order-row"><span>Coins</span><span id="popupCoins">0</span></div>
    <button class="pay-now-btn">Pay Now</button>
  </div>
</div>

<script>
const PRICE_PER_COIN = 1.0 / 70;
const coinOptions = document.querySelectorAll('.coin-option');
const customOption = document.getElementById('customOption');

let selectedCoins = 0;
let selectedPrice = 0;

const totalAmountEl = document.getElementById('totalAmount');
const tiktokIdInput = document.getElementById('tiktokId');

coinOptions.forEach(option => {
  option.addEventListener('click', () => {
    coinOptions.forEach(o => o.classList.remove('selected'));
    option.classList.add('selected');

    if(option.id === 'customOption') {
      const val = prompt("Enter custom coins:");
      if(val && parseInt(val) > 0){
        selectedCoins = parseInt(val);
        selectedPrice = parseFloat((selectedCoins * PRICE_PER_COIN).toFixed(2));
        totalAmountEl.textContent = "$" + selectedPrice.toFixed(2);
      } else {
        option.classList.remove('selected');
        selectedCoins = 0;
        selectedPrice = 0;
        totalAmountEl.textContent = "$0.00";
      }
      return;
    }

    selectedCoins = parseInt(option.dataset.coins);
    selectedPrice = parseFloat(option.dataset.price);
    totalAmountEl.textContent = "$" + selectedPrice.toFixed(2);
  });
});

const footerRechargeBtn = document.querySelector('.done-btn');
const orderPopup = document.getElementById('orderPopup');
const closeBtn = orderPopup.querySelector('.close-btn');
const popupUsername = document.getElementById('popupUsername');
const popupTotal = document.getElementById('popupTotal');
const popupCoins = document.getElementById('popupCoins');
const payNowBtn = orderPopup.querySelector('.pay-now-btn');

footerRechargeBtn.addEventListener('click', () => {
  const username = tiktokIdInput.value.trim();
  if(!username){ alert("Please enter your TikTok username"); return; }
  if(selectedCoins <=0){ alert("Please select a coin package"); return; }

  popupUsername.textContent = '@'+username;
  popupTotal.textContent = "$"+selectedPrice.toFixed(2);
  popupCoins.textContent = selectedCoins+" coins";

  orderPopup.style.display = 'flex';
});

closeBtn.addEventListener('click', ()=>{ orderPopup.style.display='none'; });
window.addEventListener('click', e=>{ if(e.target===orderPopup) orderPopup.style.display='none'; });
payNowBtn.addEventListener('click', ()=>{ alert("Payment processing (demo)"); orderPopup.style.display='none'; });
</script>
</body>
</html>
